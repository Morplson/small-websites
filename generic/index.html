<!DOCTYPE html>
<html>
<head>
	<title></title>

	<style type="text/css">

		@import url('https://fonts.googleapis.com/css?family=Raleway:100,200,300,400,500,600,700,800,900&display=swap');

		*{
			font-size: 14pt;

			font-family: 'Raleway', sans-serif; 
			scroll-behavior: smooth;
		}

		@media (min-width: 15rem) and ( max-width: 25rem){
			*{
				font-size: 12pt;
			}
		}

		@media (max-width: 15rem){
			*{
				font-size: 11pt;
			}
		}


		body{
			font-weight: 300; 
			x-overflow: hidden;
			padding: 0;
			margin: 0;
		}

		main{
			margin: 0.25rem 3.5rem;
			display: flex;

			flex-wrap: wrap;
			flex-direction: row;
			justify-content: space-evenly;
			align-items: stretch;
			align-content: space-around;

		}


		.box{
			text-align: center;
			padding: 1rem;
			float: left;

			box-sizing: border-box;
		}

		.box>.inside{
			box-sizing: content-box;

			padding: 1rem 0;
		}

		@media only screen and (min-width: 15rem) and ( max-width: 25rem){

			.box.s2{
				width: 50%;
			}

			.box.s3{
				width: 33.3%;
			}
		}

		@media only screen and (min-width: 25rem){

			.box.b2{
				width: 50%;
			}

			.box.b3{
				width: 33.3%;
			}

			.box.b4{
				width: 25%;
			}

			.box.b5{
				width: 20%;
			}
		}

		#dummyContainer, #activeContainer{
			height: 0;
			overflow: hidden;
		}


		h1,.h1{
			font-weight: 400;
			font-size: 3rem;
			margin: 1rem 0 0.5rem 0;
		}


		h2,.h2{
			font-weight: 300;
			font-size: 2.25rem;
			margin: 1rem 0 0.5rem 0;
		}

		p{
			margin: 0.25rem 0 0.5rem 0;
		}

		img{
			max-width:100%;
			height: auto;
			max-height: 25rem;
		}

		picture{
			width: 100%;
			float: left;
		}

		picture > img{
			object-fit: cover;
			min-height: 20em;
		}


		




	</style>
</head>
<body>

	<main>
		
		<div class="box ">
			<div class="inside">
				<h1>Lorem ipsum dolor sit amet, consectetur adipisicing elit.</h1>
				<h2>Lorem ipsum dolor sit amet, consectetur adipisicing elit.</h2>
				<p>
					Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
					tempor incididunt ut labore et dolore magna aliqua. 
				</p>
			</div>
		</div>


		<div class="box b2 s2">
			<div class="inside">
				<p>
					Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
					tempor incididunt ut labore et dolore magna aliqua. 
				</p>
				<picture>
					<img src="https://picsum.photos/400/300/">
				</picture>
				
			</div>
		</div>

		<div class="box b2 s2">
			<div class="inside">
				<p>
					Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
					tempor incididunt ut labore et dolore magna aliqua. 
				</p>
			
				<picture class="effect">
					<img src="https://picsum.photos/400/200/">
				</picture>
			</div>
			
		</div>


		<div class="box b3 s3">
			<div class="inside">
				<p>
					Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
					tempor incididunt ut labore et dolore magna aliqua. 
				</p>
			</div> 
		</div>

		<div class="box b3 s3 ">
			<div class="inside">
				<p>
					Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
					tempor incididunt ut labore et dolore magna aliqua. 
				</p>
			</div> 
		</div>

		<div class="box b3 s3">
			<div class="inside">
				<p>
					Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
					tempor incididunt ut labore et dolore magna aliqua. 
				</p>
			</div> 
		</div>


		<div class="box b4">
			<div class="inside">
				<p>
					Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
					tempor incididunt ut labore et dolore magna aliqua. 
				</p>
			</div>  
		</div>

		<div class="box b4">
			<div class="inside">
				<p>
					Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
					tempor incididunt ut labore et dolore magna aliqua. 
				</p>
			</div> 
		</div>

		<div class="box b4">
			<div class="inside">
				<p>
					Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
					tempor incididunt ut labore et dolore magna aliqua. 
				</p>
			</div> 
		</div>

		<div class="box b4">
			<div class="inside">
				<p>
					Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
					tempor incididunt ut labore et dolore magna aliqua. 
				</p>
			</div> 
		</div>


		<div class="box b5">
			<div class="inside">
				<p>
					Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
					tempor incididunt ut labore et dolore magna aliqua. 
				</p>
			</div> 
		</div>

		<div class="box b5">
			<div class="inside">
				<p>
					Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
					tempor incididunt ut labore et dolore magna aliqua. 
				</p>
			</div> 
		</div>

		<div class="box b5">
			<div class="inside">
				<p>
					Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
					tempor incididunt ut labore et dolore magna aliqua. 
				</p>
			</div> 
		</div>

		<div class="box b5">
			<div class="inside">
				<p>
					Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
					tempor incididunt ut labore et dolore magna aliqua. 
				</p>
			</div> 
		</div>

		<div class="box b5">
			<div class="inside">
				<p>
					Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
					tempor incididunt ut labore et dolore magna aliqua. 
				</p>
			</div> 
		</div>

	</main>



<script type="text/javascript">
	var elementcounter = 0;
	window.addEventListener('load', function() {
    	initEffectHandler();
	});
		
	

	function initEffectHandler() {
		const inserts = document.querySelectorAll('.effect');
		console.info("init");

		for (const insert of inserts) {
  				insert.addEventListener("mouseenter", waves3dEffect, false);
		}
	}


	function waves3dEffect(event) {
		elementcounter += 1;
		let name = "wave"+elementcounter;

		let cloned = document.getElementById("dummyWaves").cloneNode(true);

		cloned.id = "cont"+name;
		

		let filter = cloned.querySelector("defs filter");
		let turbulence = cloned.querySelector("defs filter *[name='turbulence']");
		let red = cloned.querySelector("defs filter *[name='red']");
		let blue = cloned.querySelector("defs filter *[name='blue']");

		filter.id = name;

		document.getElementById('activeContainer').appendChild(cloned);


		event.target.style.filter = "url('#"+name+"')";

		turbulence.seed.baseVal = ""+Math.floor(Math.random() * (1000 - 1) + 1);

		let start = null;

		let rdx = Math.random() * (20 - 5) + 5;
		let rdy = Math.random() * (7 - 2) + 2;

		let bdx	= Math.random() * (2 - 0) + 0;
		let bdy	= Math.random() * (2 - 0) + 0;


		function animation3d(timestamp) {
			if (!start) start = timestamp;
			let progress = timestamp - start;

			let adder = (progress<250)?progress:500-progress;

			red.dx.baseVal = ""+(rdx/250)*adder;
			red.dy.baseVal = ""+(rdy/250)*adder;

			blue.dx.baseVal = "-"+(bdx/250)*adder;
			blue.dy.baseVal = "-"+(bdy/250)*adder;


			turbulence.baseFrequencyY.baseVal = (0.25/250)*adder;


			if(progress<500){
				window.requestAnimationFrame(animation3d);
			}
			
		}

		window.requestAnimationFrame(animation3d);

		setTimeout(function() {
			document.getElementById('activeContainer').removeChild(cloned)
    		event.target.style.filter = "";
  		}, 500);
	}



</script>
<div height="0px" id="activeContainer"></div>

<div height="0px" id="dummyContainer">
	<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="dummyWaves">
		<defs>
	
			<filter id="filter" color-interpolation-filters="sRGB" x="-40%" y="-40%" width="180%" height="180%" filterUnits="objectBoundingbox">

				<feTurbulence name="turbulence" type="fractalNoise" in="SourceGraphic" baseFrequency="0 0" numOctaves="1" seed="01" stitchTiles="stitch" result="turbulence"/>
        
				<feDisplacementMap in="SourceGraphic" in2="turbulence" scale="20"xChannelSelector="A" yChannelSelector="A" result="waves"/>
        
        
				<feOffset name="red" dx="0" dy="0" in="waves" result="rt1"/>
        
				<feColorMatrix type="matrix" values="
				1 0 0 0 0
				0 0 0 0 0
				0 0 0 0 0
				0 0 0 1 0" in="rt1" result="red"/>
        
        
				<feOffset name="blue" dx="-0" dy="-0" in="waves" result="bt1"/>

				<feColorMatrix type="matrix" values="
				0 0 0 0 0
				0 1 0 0 0
				0 0 1 0 0
				0 0 0 1 0" in="bt1" result="blue"/>
  
				<feBlend mode="screen" in="red" in2="blue" result="3d"/>

			</filter>
		</defs>
	</svg>
</div>

</body>

</html>